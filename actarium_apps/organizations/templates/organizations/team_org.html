{% extends "organizations/menu.html" %}
{% load i18n gravatartag has_role %}
{% block TITLE %}{% trans 'Home' %}{% endblock %}

{% block content_menu %}
    <div class="org-team">
    	<div class="">
	    	<div>
		    	<span class=""><h3>{% blocktrans with n=org.name %}Miembros de {{ n }}{% endblocktrans %}</h3></span>
		    	<!-- <div class="org-team-box">
			    	<div class="box">
			    		<span class="pull-left">{% trans 'Miembros' %}</span>
				    	<span class="pull-right">{% blocktrans with c=current_members m=max_members %} {{ c }} de {{ m }} {% endblocktrans %}</span>
			    	</div>
			    	<div class="progress">
					  <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" id="org-num-members">
					    <span class="sr-only"></span>
					  </div>
					</div>
				</div> -->
			</div>
		</div>
		<div class="row">
			<div class="col-md-6">
				<form>
					<div class="col-xs-6">
					<input type="text" id="filter_members" class="form-control " placeholder="{% trans 'Filtrar usuarios' %}" autofocus />
					</div>
				</form>
				
			</div>
			<div class="col-md-6">
				<a href="#" class="btn btn-large btn-info pull-right"><span class="glyphicon glyphicon-user glyphicon-plus"></span> {% trans 'Agregar miembro' %} <span class="caret"></span> </a>
			</div>
		</div>
		<hr>
		<div class="org-user-list">
			<ul id="org-list-members" class="list-unstyled">
			{% for u in org.organizationsuser_organization.get_members %}
				<li>
					<div class="org-user-box clearfix">
						<div class="pull-left">
							<span class="pull-left org-user-image"><img src="{{ u.email|showgravatar:'32'}}" width="32px" class="img-circle" /></span>
							<div class="pull-left org-user-info">
								<strong>{{ u.get_full_name }}</strong>
								<p>@{{ u.username }}</p>
							</div>
						</div>
						<div class="pull-right org-user-options">
							<!-- <div class="btn-group">
							  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
							    <span class="glyphicon glyphicon-cog"></span> {% trans 'Permisos' %} <span class="caret"></span>
							  </button>
							  <ul class="dropdown-menu" role="menu">
							    <li><a href="#">{% trans '' %}</a></li>
							    <li><a href="#">Another action</a></li>
							  </ul>
							</div> -->
							<select class="btn">
							  	<option>{% trans 'Administrador' %}</option>
							  	<option>{% trans 'Miembro' %}</option>
							</select>
							<a href="#" class="btn"><span class="glyphicon glyphicon-remove"></span> {% trans 'Eliminar' %}</a>
						</div>
					</div>
				</li>
			{% endfor %}
			</ul>
		</div>
    </div>
{% endblock %}

{% block style_menu %}
<style>
	.org-team .org-team-box{width: 180px;}
	.org-team .org-user-list > ul > li{position: relative;border-bottom: solid thin #eee;}
	.org-team .org-user-list .org-user-box{padding: 5px 5px;}
	.org-team .org-user-list .org-user-box .org-user-info{margin-left: 6px}
	.org-team .org-user-list .org-user-box .org-user-info strong{font-size: 15px}
	.org-team .org-user-list .org-user-box .org-user-info p{color: #999;}
	.org-team .org-user-list .org-user-box .org-user-image{margin-top: 5px;}
	.org-team .org-user-list .org-user-box .org-user-options {margin-top: 10px}
	/*.org-team .org-user-list .org-user-box .org-user-options ul.org-user-btn-list li{display: inline-block;}*/
	.dropdown-menu{z-index: 900}
</style>
{% endblock %}

{% block js_menu %}
    <script src="{{ STATIC_PREFIX }}/js/vendor/jquery.fastLiveFilter.min.js"></script>
    <script>
        $(document).ready(function(){
            $(".org-menu-container #org-team").addClass("active")
                .find("a > span").addClass("glyphicon glyphicon-chevron-right");

            $("#org-num-members").css({"width": {{ total }} + "%"});
            $('#filter_members').fastLiveFilter('#org-list-members');
        });
    </script>
{% endblock %}